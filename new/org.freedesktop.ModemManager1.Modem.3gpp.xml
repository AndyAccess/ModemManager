<?xml version="1.0" encoding="UTF-8" ?>

<node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
  <interface name="org.freedesktop.ModemManager1.Modem.3gpp">

    <!-- METHODS -->

    <method name="Register">
      <tp:docstring>
	Request registration with a given mobile network.
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_3gpp_modem_register"/>
      <arg name="network_id" type="s" direction="in">
	<tp:docstring>
	  The network ID (ie, MCC-MNC, like "310260") to register. An empty
	  string can be used to register to the home network.
	</tp:docstring>
      </arg>
    </method>

    <method name="Scan">
      <tp:docstring>
	Scan for available networks.
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_3gpp_modem_scan"/>
      <arg name="results" type="aa{sv}" direction="out">
	<tp:docstring>
          <p>Found networks. It's an array of dictionaries (strings for both
          keys and values) with each array element describing a mobile network
          found in the scan.  Each dict may include one or more of the following
          keys:</p>
          <ul>
            <li>
              "status": a number representing network availability status as
              defined in 3GPP TS 27.007 section 7.3.  e.g. "0" (unknown), "1"
              (available), "2" (current), or "3" (forbidden).  This key will
              always be present.
            </li>
            <li>
              "operator-long": long-format name of operator.  If the name is
              unknown, this field should not be present.
            </li>
            <li>
              "operator-short": short-format name of operator.  If the name is
              unknown, this field should not be present.
            </li>
            <li>
              "operator-num": mobile code of the operator.  Returned in the
              format "MCCMNC", where MCC is the three-digit ITU E.212 Mobile
              Country Code and MNC is the  two- or three-digit GSM Mobile
              Network Code.  e.g. "31026" or "310260".
            </li>
            <li>
              "access-tech": a number representing the generic access technology
              used by this mobile network, defined by the MM_MODEM_ACCESS_TECH
              enum.
            </li>
          </ul>
	</tp:docstring>
      </arg>
    </method>

    <!-- PROPERTIES -->

    <property name="Imei" type="s" access="read">
      <tp:docstring>
        The IMEI of the device.
      </tp:docstring>
    </property>

    <property name="RegStatus" type="u" access="read" tp:type="MM_MODEM_3GPP_NETWORK_REG_STATUS">
      <tp:docstring>
        Mobile registration status as defined in 3GPP TS 27.007 section
        10.1.19.
      </tp:docstring>
    </property>

    <property name="OperCode" type="s" access="read">
      <tp:docstring>
        Current operator code of the operator to which the mobile is
        currently registered.  Returned in the format "MCCMNC", where MCC
        is the three-digit ITU E.212 Mobile Country Code and MNC is the
        two- or three-digit GSM Mobile Network Code (e.g. "31026" or "310260").
        If the MCC and MNC are not known or the mobile is not registered to a
        mobile network, this property will be a zero-length (blank) string.
      </tp:docstring>
    </property>

    <property name="OperName" type="s" access="read">
      <tp:docstring>
        Current operator name of the operator to which the mobile is
        currently registered.  If the operator name is not knowon or the
        mobile is not registered to a mobile network, this property will
        be a zero-length (blank) string.
      </tp:docstring>
    </property>

    <!-- ENUMS -->

    <tp:enum name="MM_MODEM_3GPP_NETWORK_REG_STATUS" type="u">
      <tp:docstring>
        GSM registration code as defined in 3GPP TS 27.007 section 10.1.19.
      </tp:docstring>
      <tp:enumvalue suffix="IDLE" value="0">
	<tp:docstring>
	  Not registered, not searching for new operator to register.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="HOME" value="1">
	<tp:docstring>
	  Registered on home network.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="SEARCHING" value="2">
	<tp:docstring>
	  Not registered, searching for new operator to register with.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="DENIED" value="3">
	<tp:docstring>
	  Registration denied.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="UNKNOWN" value="4">
	<tp:docstring>
	  Unknown registration status.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ROAMING" value="5">
	<tp:docstring>
	  Registered on a roaming network.
	</tp:docstring>
      </tp:enumvalue>
    </tp:enum>

  </interface>
</node>

