<?xml version="1.0" encoding="UTF-8" ?>

<!--
 ModemManager 0.6 Interface Specification

   Copyright (C) 2008 Novell, Inc.
   Copyright (C) 2008-2011 Red Hat, Inc.
   Copyright (C) 2011 The Chromium OS Authors
   Copyright (C) 2011 Google, Inc.
-->

<node name="/" xmlns:doc="http://www.freedesktop.org/dbus/1.0/doc.dtd">

  <!--
      org.freedesktop.ModemManager1.Modem.Cdma:
      @short_description: The ModemManager CDMA interface.

      This interface provides access to specific actions that may be performed
      in modems with CDMA capabilities.
  -->
  <interface name="org.freedesktop.ModemManager1.Modem.Cdma">

    <!--
        Activate:
        @carrier: Name of carrier.
        @immediate_error: A <link linkend="MMModemCdmaActivationError">MMModemCdmaActivationError</link> value, which is returned for immediate errors. Delayed errors are returned via an #org.freedesktop.ModemManager1.Modem.Cdma::ActivationStateChanged signal.

        Provisions the modem for use with a given carrier using the modem's
        <ulink url="http://en.wikipedia.org/wiki/Over-the-air_programming">Over-The-Air (OTA)</ulink>
        activation functionality, if any.

        In the event of immediate failure, returns an error value instead of
        setting a DBus error.
    -->
    <method name="Activate">
      <arg name="carrier"         type="s" direction="in"  />
      <arg name="immediate_error" type="u" direction="out" />
    </method>

    <!--
        ActivateManual:
        @properties: A dictionary of properties to set on the modem, including <literal>"mdn"</literal> and <literal>"min"</literal>.

        Sets the modem provisioning data directly, without contacting the
        carrier over the air.

        Some modems will reboot after this call is made.
    -->
    <method name="ActivateManual">
      <arg name="properties" type="a{sv}" direction="in" />
    </method>

    <!--
        ActivationStateChanged:
        @activation_state: Current activation state, given as a <link linkend="MMModemCdmaActivationState">MMModemCdmaActivationState</link>.
        @activation_error: Carrier-specific error code, given as a <link linkend="MMModemCdmaActivationError">MMModemCdmaActivationError</link>.
        @status_changes: Properties that have changed as a result of this activation state chage, including <literal>"mdn"</literal> and <literal>"min"</literal>.

        The device activation state changed.
    -->
    <signal name="ActivationStateChanged">
      <arg name="activation_state" type="u"     />
      <arg name="activation_error" type="u"     />
      <arg name="status_changes"   type="a{sv}" />
    </signal>

    <!--
        Meid:

        The modem's <ulink url="http://en.wikipedia.org/wiki/MEID">Mobile Equipment Identifier</ulink>.
    -->
    <property name="Meid" type="s" access="read" />


    <!--
        Esn:

        The modem's
        <ulink url="http://en.wikipedia.org/wiki/Electronic_serial_number">Electronic Serial Number</ulink>
        (superceded by MEID but still used by older devices).
    -->
    <property name="Esn" type="s" access="read" />

    <!--
        Sid:

        The
        <ulink url="http://en.wikipedia.org/wiki/System_Identification_Number">System Identifier</ulink>
        of the serving CDMA 1x network, if known, and
        if the modem is registered with a CDMA 1x network.

        See <ulink url="http://ifast.org">ifast.org</ulink> or the mobile
        broadband provider database for mappings of SIDs to network providers.
    -->
    <property name="Sid" type="u" access="read" />

    <!--
        Nid:

        The
        <ulink url="http://en.wikipedia.org/wiki/Network_Identification_Number">Network Identifier</ulink>
        of the serving CDMA 1x network, if known, and
        if the modem is registered with a CDMA 1x network.
    -->
    <property name="Nid" type="u" access="read" />

    <!--
        Cdma1xRegistrationState:

        A <link linkend="MMModemCdmaRegistrationState">MMModemCdmaRegistrationState</link>
        value specifying the CDMA 1x registration state.
    -->
    <property name="Cdma1xRegistrationState" type="u" access="read" />

    <!--
        EvdoRegistrationState:

        A <link linkend="MMModemCdmaRegistrationState">MMModemCdmaRegistrationState</link>
        value specifying the EVDO registration state.
    -->
    <property name="EvdoRegistrationState" type="u" access="read" />

    <!-- ENUMS -->

    <tp:enum name="MM_MODEM_CDMA_REGISTRATION_STATE" type="u">
      <tp:enumvalue suffix="UNKNOWN" value="0">
        <tp:docstring>Registration status is unknown or the device is not registered.</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="REGISTERED" value="1">
        <tp:docstring>Registered, but roaming status is unknown or cannot be provided by the device.  The device may or may not be roaming.</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="HOME" value="2">
        <tp:docstring>Currently registered on the home network.</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ROAMING" value="3">
        <tp:docstring>Currently registered on a roaming network.</tp:docstring>
      </tp:enumvalue>
    </tp:enum>

    <tp:enum name="MM_MODEM_CDMA_ACTIVATION_STATE" type="u">
      <tp:enumvalue suffix="NOT_ACTIVATED" value="0">
        <tp:docstring>Device is not activated</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ACTIVATING" value="1">
        <tp:docstring>Device is activating</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="PARTIALLY_ACTIVATED" value="2">
        <tp:docstring>Device is partially activated; carrier-specific steps required to continue.</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ACTIVATED" value="3">
        <tp:docstring>Device is ready for use.</tp:docstring>
      </tp:enumvalue>
    </tp:enum>

    <tp:enum name="MM_MODEM_CDMA_ACTIVATION_ERROR" type="u">
      <tp:enumvalue suffix="NO_ERROR" value="0"/>
      <tp:enumvalue suffix="ROAMING" value="1">
        <tp:docstring>
          Device cannot activate while roaming.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="WRONG_RADIO_INTERFACE" value="2">
        <tp:docstring>
          Device cannot activate on this network type (eg EVDO vs 1xRTT).
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="COULD_NOT_CONNECT" value="3">
        <tp:docstring>
          Device could not connect to the network for activation.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="SECURITY_AUTHENTICATION_FAILED" value="4">
        <tp:docstring>
          Device could not authenticate to the network for activation.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="PROVISIONING_FAILED" value="5">
        <tp:docstring>
          Later stages of device provisioning failed.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="NO_SIGNAL" value="6">
        <tp:docstring>
          No signal available.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="UNKNOWN" value="7">
        <tp:docstring>
          An error occurred.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="TIMED_OUT" value="8">
        <tp:docstring>
          Activation timed out.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="START_FAILED" value="9">
        <tp:docstring>
          API call for initial activation failed.
        </tp:docstring>
      </tp:enumvalue>
    </tp:enum>
  </interface>
</node>
